(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c20be"],{4947:function(s,r,t){"use strict";t.r(r);var e=function(){var s=this,r=s.$createElement,t=s._self._c||r;return t("div",{staticClass:"business-signup-page"},[t("NavBar"),t("b-card",{attrs:{title:"Create a Business Account"}},[t("BusinessSignUpForm")],1)],1)},o=[],a=t("d000"),n=function(){var s=this,r=s.$createElement,t=s._self._c||r;return t("div",[t("b-alert",{attrs:{show:s.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(r){s.dismissCountDown=0},"dismiss-count-down":s.countDownChanged}},[t("p",[s._v("Business successfully created")]),t("b-button",{on:{click:s.settingLink}},[s._v("Sign In Here")])],1),t("b-alert",{attrs:{show:s.errorDismissCountDown,dismissible:"",variant:"danger"},on:{dismissed:function(r){s.errorDismissCountDown=0},"dismiss-count-down":s.errorCountDownChanged}},[t("b",[s._v("Please correct the following error(s):")]),t("ul",s._l(s.errors,(function(r){return t("li",{key:r.id},[s._v(s._s(r))])})),0)]),t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.restaurantPresetMetrics",modifiers:{restaurantPresetMetrics:!0}}],staticClass:"m-1"},[s._v("Restaurant Preset Metrics")]),t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.nonrestaurantPresetMetrics",modifiers:{nonrestaurantPresetMetrics:!0}}],staticClass:"m-1"},[s._v("Non-Restaurant Preset Metrics")]),t("b-collapse",{attrs:{id:"restaurantPresetMetrics"}},[t("b-card",[t("b-list-group",s._l(s.presetMetricsRestuarant,(function(r){return t("b-list-group-item",{key:r},[s._v(" "+s._s(r)+" ")])})),1)],1)],1),t("b-collapse",{attrs:{id:"nonrestaurantPresetMetrics"}},[t("b-card",[t("b-list-group",s._l(s.presetMetrics,(function(r){return t("b-list-group-item",{key:r},[s._v(" "+s._s(r)+" ")])})),1)],1)],1),t("b-form",{on:{submit:function(r){return r.preventDefault(),s.signUp(r)}}},[t("b-form-group",{staticClass:"company-name-input-group",attrs:{"label-for":"company-name-input"},scopedSlots:s._u([{key:"label",fn:function(){return[s._v(" Company Name:"),t("span",{staticClass:"text-danger"},[s._v("*")])]},proxy:!0}])},[t("b-form-input",{attrs:{id:"company-name-input",required:"",placeholder:"Enter Company Name"},model:{value:s.form.companyName,callback:function(r){s.$set(s.form,"companyName",r)},expression:"form.companyName"}})],1),t("b-form-group",{attrs:{id:"company-password-input-group","label-for":"company-password-input"},scopedSlots:s._u([{key:"label",fn:function(){return[s._v(" Password:"),t("span",{staticClass:"text-danger"},[s._v("*")])]},proxy:!0}])},[t("b-form-input",{attrs:{id:"company-password-input",required:"",placeholder:"Enter Password"},model:{value:s.form.password,callback:function(r){s.$set(s.form,"password",r)},expression:"form.password"}})],1),t("b-form-group",{attrs:{id:"description-input-group",label:"Description:","label-for":"description-input"}},[t("b-form-input",{attrs:{id:"description-input",placeholder:"Enter Description"},model:{value:s.form.description,callback:function(r){s.$set(s.form,"description",r)},expression:"form.description"}})],1),t("b-form-group",{attrs:{id:"status-input-group",label:"Status:","label-for":"status-input"}},[t("b-form-select",{attrs:{id:"status-input",options:s.possibleStatuses},model:{value:s.form.status,callback:function(r){s.$set(s.form,"status",r)},expression:"form.status"}})],1),t("b-form-group",{attrs:{id:"email-input-group","label-for":"email-input"},scopedSlots:s._u([{key:"label",fn:function(){return[s._v(" Email:"),t("span",{staticClass:"text-danger"},[s._v("*")])]},proxy:!0}])},[t("b-form-input",{attrs:{id:"email-input",type:"email",required:"",placeholder:"Enter Email"},model:{value:s.form.email,callback:function(r){s.$set(s.form,"email",r)},expression:"form.email"}})],1),t("b-form-group",{attrs:{id:"phone-input-group",label:"Phone:","label-for":"phone-input"}},[t("b-form-input",{attrs:{id:"phone-input",placeholder:"Enter Phone Number"},model:{value:s.form.phone,callback:function(r){s.$set(s.form,"phone",r)},expression:"form.phone"}})],1),t("b-form-group",{attrs:{id:"type-input-group","label-for":"type-input"},scopedSlots:s._u([{key:"label",fn:function(){return[s._v(" Business Type:"),t("span",{staticClass:"text-danger"},[s._v("*")])]},proxy:!0}])},[t("b-form-select",{attrs:{id:"type-input",options:s.possibleTypes,required:""},model:{value:s.form.businessType,callback:function(r){s.$set(s.form,"businessType",r)},expression:"form.businessType"}})],1),t("b-form-group",{attrs:{id:"address-input-group",label:"Address:","label-for":"address-input"}},[t("b-form-input",{attrs:{id:"Address-input",placeholder:"Enter Address"},model:{value:s.form.address,callback:function(r){s.$set(s.form,"address",r)},expression:"form.address"}})],1),t("b-form-group",{attrs:{id:"monday-input-group",label:"Monday Hours:","label-for":"monday-input"}},[t("b-form-input",{attrs:{id:"monday-input",placeholder:"Monday Hours"},model:{value:s.form.mondayHours,callback:function(r){s.$set(s.form,"mondayHours",r)},expression:"form.mondayHours"}})],1),t("b-form-group",{attrs:{id:"tuesday-input-group",label:"Tuesday Hours:","label-for":"tuesday-input"}},[t("b-form-input",{attrs:{id:"tuesday-input",placeholder:"Tuesday Hours"},model:{value:s.form.tuesdayHours,callback:function(r){s.$set(s.form,"tuesdayHours",r)},expression:"form.tuesdayHours"}})],1),t("b-form-group",{attrs:{id:"wednesday-input-group",label:"Wednesday Hours:","label-for":"wednesday-input"}},[t("b-form-input",{attrs:{id:"wednesday-input",placeholder:"Wednesday Hours"},model:{value:s.form.wednesdayHours,callback:function(r){s.$set(s.form,"wednesdayHours",r)},expression:"form.wednesdayHours"}})],1),t("b-form-group",{attrs:{id:"thursday-input-group",label:"Thursday Hours:","label-for":"thursday-input"}},[t("b-form-input",{attrs:{id:"thursday-input",placeholder:"Thursday Hours"},model:{value:s.form.thursdayHours,callback:function(r){s.$set(s.form,"thursdayHours",r)},expression:"form.thursdayHours"}})],1),t("b-form-group",{attrs:{id:"friday-input-group",label:"Friday Hours:","label-for":"Friday-input"}},[t("b-form-input",{attrs:{id:"friday-input",placeholder:"Friday Hours"},model:{value:s.form.fridayHours,callback:function(r){s.$set(s.form,"fridayHours",r)},expression:"form.fridayHours"}})],1),t("b-form-group",{attrs:{id:"saturday-input-group",label:"Saturday Hours:","label-for":"saturday-input"}},[t("b-form-input",{attrs:{id:"saturday-input",placeholder:"Saturday Hours"},model:{value:s.form.saturdayHours,callback:function(r){s.$set(s.form,"saturdayHours",r)},expression:"form.saturdayHours"}})],1),t("b-form-group",{attrs:{id:"sunday-input-group",label:"Sunday Hours:","label-for":"sunday-input"}},[t("b-form-input",{attrs:{id:"sunday-input",placeholder:"Sunday Hours"},model:{value:s.form.sundayHours,callback:function(r){s.$set(s.form,"sundayHours",r)},expression:"form.sundayHours"}})],1),t("b-button",{attrs:{type:"submit"}},[s._v("Create Business")])],1),s.errors.length?t("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[t("b",[s._v("Please correct the following error(s):")]),t("ul",s._l(s.errors,(function(r){return t("li",{key:r.id},[s._v(s._s(r))])})),0)]):s._e()],1)},i=[],u=t("bc3a"),d=t.n(u),l=t("56d7"),p={name:"BusinessSignUpForm",data:function(){return{form:{companyName:"",password:"",description:"",email:"",phone:"",status:"",businessType:"",address:"",mondayHours:"",tuesdayHours:"",wednesdayHours:"",thursdayHours:"",fridayHours:"",saturdayHours:"",sundayHours:""},dismissSecs:10,dismissCountDown:0,errorDismissCountDown:0,possibleStatuses:[],possibleTypes:[],presetMetrics:[],presetMetricsRestuarant:[],errors:[],starter:[{text:"Select One",value:""}],success:""}},mounted:function(){this.loadStatuses(),this.loadBusinessTypes(),this.loadMetrics()},methods:{loadMetrics:function(){var s=this;d.a.get("/api/metrics/list/restaurants").then((function(r){s.presetMetricsRestuarant=r.data})),d.a.get("/api/metrics/list/general").then((function(r){s.presetMetrics=r.data}))},loadStatuses:function(){var s=this;d.a.get("/api/business/statuses").then((function(r){s.possibleStatuses=s.starter.concat(r.data)}))},loadBusinessTypes:function(){var s=this;d.a.get("/api/business/types").then((function(r){s.possibleTypes=[{text:"Select One",value:""}].concat(r.data)}))},signUp:function(){this.createBusiness()},settingLink:function(){this.$router.push("/settings")},createBusiness:function(){var s=this,r={name:this.form.companyName,password:this.form.password,status:this.form.status,email:this.form.email,phone:this.form.phone,type:this.form.businessType,description:this.form.description,address:this.form.address,mondayHours:this.form.mondayHours,tuesdayHours:this.form.tuesdayHours,wednesdayHours:this.form.wednesdayHours,thursdayHours:this.form.thursdayHours,fridayHours:this.form.fridayHours,saturdayHours:this.form.saturdayHours,sundayHours:this.form.sundayHours};d.a.post("/api/business",r).then((function(r){s.showSuccessAlert(),l["eventBus"].$emit("create-business-success",r)})).catch((function(r){s.errors.push(r.response.data.error),s.showErrorAlert()})).then((function(){s.resetForm(),s.clearMessages()}))},resetForm:function(){this.form.companyName="",this.form.password="",this.form.description="",this.form.email="",this.form.phone="",this.form.status="",this.form.businessType="",this.form.address="",this.form.mondayHours="",this.form.tuesdayHours="",this.form.wednesdayHours="",this.form.thursdayHours="",this.form.fridayHours="",this.form.saturdayHours="",this.form.sundayHours=""},clearMessages:function(){var s=this;setInterval((function(){s.errors=[],s.success=""}),5e3)},countDownChanged:function(s){this.dismissCountDown=s},showSuccessAlert:function(){this.dismissCountDown=this.dismissSecs},showErrorAlert:function(){this.errorDismissCountDown=this.dismissSecs},errorCountDownChanged:function(s){this.errorDismissCountDown=s}}},m=p,c=t("2877"),f=Object(c["a"])(m,n,i,!1,null,null,null),y=f.exports,b={name:"BusinessSignUp",components:{NavBar:a["a"],BusinessSignUpForm:y},data:function(){return{}}},h=b,g=Object(c["a"])(h,e,o,!1,null,null,null);r["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0c20be.d8da558f.js.map